# Шаблоны конфигураций

Эта директория содержит шаблоны конфигурационных файлов для создания новых сайтов.

## Структура

```
templates/
├── php-fpm/          # Шаблоны конфигов PHP-FPM
│   ├── php.ini       # Настройки PHP
│   └── www.conf      # Настройки PHP-FPM пула
├── nginx/            # Шаблоны конфигов nginx
│   └── site.conf.template  # Пример конфига виртуального хоста
└── site/             # Шаблон структуры сайта
    └── docker-compose.yml  # Docker Compose для PHP-FPM контейнера
```

## Использование

Скрипт [`infra/create_site.sh`](../infra/create_site.sh) автоматически копирует эти шаблоны при создании нового сайта:

1. **PHP-FPM конфиги** копируются в `config/php-fpm/<домен>/`
2. **Docker Compose** копируется в `sites/<домен>/docker-compose.yml`
3. **Nginx конфиг** генерируется динамически на основе параметров

## Плейсхолдеры в docker-compose.yml

- `{{DOMAIN}}` - заменяется на домен сайта
- `{{CONTAINER_NAME}}` - заменяется на имя контейнера (php_<домен>)
- `{{PHP_VERSION}}` - заменяется на выбранную версию PHP (7.4, 8.0, 8.1, 8.2)

## Модификация шаблонов

Вы можете изменять эти шаблоны под свои нужды. Все новые сайты будут создаваться с обновлёнными настройками.

**Важно:** Изменения в шаблонах не влияют на уже созданные сайты. Для обновления существующих сайтов нужно редактировать их конфиги напрямую.
